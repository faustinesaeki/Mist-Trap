<template>
  <div id="random-user" class="api-output">
    <h2>üé≤ –°–ª—É—á–∞–π–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
    <p v-if="user"><strong>–ò–º—è:</strong> {{ user.name }}</p>
    <p v-if="user"><strong>Email:</strong> <a :href="'mailto:' + user.email">{{ user.email }}</a></p>
    <p v-if="user"><strong>–ì–æ—Ä–æ–¥:</strong> {{ user.address.city }}</p>
    <p v-if="user"><strong>–ö–æ–º–ø–∞–Ω–∏—è:</strong> {{ user.company.name }}</p>
    <p v-if="error" style="color:red;">{{ error }}</p>
  </div>
</template>

<script>
export default {
  name: 'RandomUser',
  data() {
    return {
      user: null,
      error: ''
    }
  },
  mounted() {
    fetch('https://jsonplaceholder.typicode.com/users') 
      .then(res => res.json())
      .then(users => {
        const randomIndex = Math.floor(Math.random() * users.length)
        this.user = users[randomIndex]
      })
      .catch(err => {
        this.error = '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.'
        console.error(err)
      })
  }
}
</script>
